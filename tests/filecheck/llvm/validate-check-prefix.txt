// RUN: %ProtectFileCheckOutput not FileCheck --check-prefix=A! --input-file %s %s 2>&1 | FileCheck --check-prefix=BAD_PREFIX %s
// RUN: FileCheck --check-prefix=A1a-B_c --input-file %s %s
// RUN: %ProtectFileCheckOutput not FileCheck --check-prefix=VALID --check-prefix=A! --input-file %s %s 2>&1 | FileCheck --check-prefix=BAD_PREFIX %s
// RUN: %ProtectFileCheckOutput not FileCheck --check-prefix= --input-file %s %s 2>&1 | FileCheck --check-prefix=EMPTY_PREFIX %s
foobar
; A1a-B_c: foobar

; BAD_PREFIX: invalid value 'A!' for '--check-prefixes <PREFIX>': error: supplied prefix may only contain ASCII alphanumerics, hyphens, or underscores

; EMPTY_PREFIX: invalid value '' for '--check-prefixes <PREFIX>': error: supplied prefix must not be an empty string
